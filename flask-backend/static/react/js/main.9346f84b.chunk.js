(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{273:function(e,t,n){e.exports=n(534)},278:function(e,t,n){},279:function(e,t,n){},534:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(25),i=n.n(o),c=(n(278),n(26)),s=n(20),u=n(28),l=n(27),p=n(29),d=(n(279),n(33)),h=n(43),m=n(241),v=n(13),f=function(e){return function(t){t({type:"INPUT_PROCESSING",status:e})}},E=function(e){return function(t){t({type:"OUTPUT_PROCESSING",status:e})}},g=function(e){return function(t){t(E(!0));var n=new FileReader;n.readAsDataURL(e),n.onload=function(e){t({type:"OUTPUT_SAVEFILE",file:e.target.result})}}},y=function(){return function(e,t){var n=t().canvas,a=n.canvas,r=n.canvasWidth,o=n.canvasHeight;a.getContext("2d").clearRect(0,0,r,o),e({type:"RESET_IMG"})}},C=function(){return function(e){e({type:"PICK_NEW_IMG"})}},A=function(e){return function(t){t({type:"INPUT_COLUMN_WIDTH",value:e})}},I=function(){return function(e,t){var n=t().main.outputImageFile,a=document.createElement("a");a.download=(new Date).toISOString().slice(0,19).replace("T","_")+".png",a.href=n,a.click()}},b=function(e){return function(t){t({type:"SHOW_CLOSE_MODAL",showModal:e})}},O={inputProcessing:null,outputProcessing:null,inputImageFile:null,outputImageFile:null,canvasSize:10,inputColWidth:13,constTotalCols:16,constExpandedCols:13,activeHotkeys:[],showModal:!1},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INPUT_PROCESSING":return Object(v.a)({},e,{inputProcessing:t.status});case"OUTPUT_PROCESSING":return Object(v.a)({},e,{outputProcessing:t.status});case"INPUT_SAVEFILE":return Object(v.a)({},e,{inputImageFile:t.file});case"OUTPUT_SAVEFILE":return Object(v.a)({},e,{outputImageFile:t.file});case"PICK_NEW_IMG":return Object(v.a)({},e,{inputImageFile:null,outputImageFile:null,inputProcessing:null,outputProcessing:null});case"CANVAS_UPDATE_SIZE":return Object(v.a)({},e,{canvasSize:t.size});case"INPUT_COLUMN_WIDTH":return Object(v.a)({},e,{inputColWidth:t.value});case"SHOW_CLOSE_MODAL":return Object(v.a)({},e,{showModal:t.showModal});default:return e}},k=n(37),w=function(e){return function(t){t({type:"CANVAS_UPDATE_BRUSHSIZE",size:e})}},_=function(e){return function(t){t({type:"CANVAS_PUSH_LINEARRAY",line:e})}},N={canvasWidth:100,canvasHeight:1,canvasBrushSize:5,canvasBrushColor:"#000000",canvas:null,linesArray:[],futureLinesArray:[]},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CANVAS_UPDATE_INPUT_DIMENSIONS":return Object(v.a)({},e,{canvasWidth:t.width,canvasHeight:t.height});case"CANVAS_UPDATE_BRUSHSIZE":return Object(v.a)({},e,{canvasBrushSize:t.size});case"CANVAS_UPDATE_BRUSHCOLOR":return Object(v.a)({},e,{canvasBrushColor:t.color});case"CANVAS_SET_CANVAS":return Object(v.a)({},e,{canvas:t.canvas});case"CANVAS_PUSH_LINEARRAY":return Object(v.a)({},e,{linesArray:[].concat(Object(k.a)(e.linesArray),Object(k.a)(t.line))});case"CANVAS_SLICE_LINEARRAY":return Object(v.a)({},e,{linesArray:e.linesArray.slice(0,t.index)});case"CANVAS_UNSHIFT_FUTURE_LINEARRAY":return Object(v.a)({},e,{futureLinesArray:[].concat(Object(k.a)(t.line),Object(k.a)(e.futureLinesArray))});case"CANVAS_SLICE_FUTURE_LINEARRAY":return Object(v.a)({},e,{futureLinesArray:e.futureLinesArray.slice(t.index,e.futureLinesArray.length)});case"CANVAS_CLEAR_FUTURE_LINEARRAY":return Object(v.a)({},e,{futureLinesArray:[]});case"PICK_NEW_IMG":case"RESET_IMG":return Object(v.a)({},e,{linesArray:[],futureLinesArray:[]});default:return e}},x=0,U=function(e){return function(t){t({type:"UNREDO_UPDATE_CHUNK_INDEX",index:e})}},T=function(e,t,n,a){e&&(e.clearRect(0,0,n,a),t.forEach(function(t,n){e.strokeStyle=t.color,e.lineWidth=t.size,e.lineCap="round",e.beginPath(),e.moveTo(t.startX,t.startY),e.lineTo(t.endX,t.endY),e.stroke()}))},D=function(){return function(e,t){var n,a,r=t().canvas,o=r.canvas,i=r.linesArray,c=r.canvasWidth,s=r.canvasHeight,u=t().unredo,l=u.chunkIdx,p=u.linesArrayChunk[l-1],d=i.slice(p,i.length);e(U(l-1)),e((n=p,function(e){e({type:"CANVAS_SLICE_LINEARRAY",index:n})})),e((a=d,function(e){e({type:"CANVAS_UNSHIFT_FUTURE_LINEARRAY",line:a})})),T(o.getContext("2d"),i.slice(0,p),c,s)}},R=function(){return function(e,t){var n,a=t().canvas,r=a.canvas,o=a.linesArray,i=a.futureLinesArray,c=a.canvasWidth,s=a.canvasHeight,u=t().unredo,l=u.chunkIdx,p=u.linesArrayChunk[l+1]-o.length,d=i.slice(0,p);e(U(l+1)),e((n=p,function(e){e({type:"CANVAS_SLICE_FUTURE_LINEARRAY",index:n})})),e(_(d)),T(r.getContext("2d"),o.concat(d),c,s)}},L={isMouseDown:!1,chunkIdx:0,linesArrayChunk:[0]},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UNREDO_SET_MOUSEDOWN":return Object(v.a)({},e,{isMouseDown:t.isDown});case"UNREDO_UPDATE_CHUNK_INDEX":return Object(v.a)({},e,{chunkIdx:t.index});case"UNREDO_PUSH_LINES_CHUNK":return Object(v.a)({},e,{linesArrayChunk:[].concat(Object(k.a)(e.linesArrayChunk),[t.chunk])});case"UNREDO_SLICE_LINES_CHUNK":return Object(v.a)({},e,{linesArrayChunk:e.linesArrayChunk.slice(0,t.index)});case"RESET_IMG":return Object(v.a)({},e,{chunkIdx:0,linesArrayChunk:[0]});default:return e}},M=n(80),F=n.n(M),H=n(157),z=n(54),W=function(){var e=Object(H.a)(F.a.mark(function e(t,n){var a;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("image",t),a.append("mask",n),e.next=5,fetch("/upload",{method:"POST",body:a});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),B=function(){return function(){var e=Object(H.a)(F.a.mark(function e(t,n){var a,r,o,i,c,s,u,l,p,d,h;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().main,r=a.inputImageFile,o=a.constTotalCols,i=n().canvas,c=i.canvasWidth,s=i.canvasHeight,u=i.linesArray,t(E(!0)),t(A(o/2)),(l=document.createElement("canvas")).width=c,l.height=s,(p=l.getContext("2d")).strokeStyle="#ffffff",p.lineCap="round",u.forEach(function(e,t){p.lineWidth=e.size,p.beginPath(),p.moveTo(e.startX,e.startY),p.lineTo(e.endX,e.endY),p.stroke()}),z.toastr.info("Inpainting","Sending inpainting request to server"),e.next=14,W(r,l.toDataURL()).catch(function(e){z.toastr.error("Inpainting","There was an error uploading to the server: "+e,1e3),t(E(!1))});case 14:return d=e.sent,e.next=17,d.blob();case 17:h=e.sent,t(g(h)),t(E(!1));case 20:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},V={downloadOutputImage:function(e,t,n){return"d"===e.key&&(t(I()),!0)},performInpainting:function(e,t,n){return"Enter"===e.key&&(t(B()),!0)},undo:function(e,t,n){return!("z"!==e.key||!e.ctrlKey)&&(0!==n().unredo.chunkIdx&&(t(D()),!0))},redo:function(e,t,n){if("y"!==e.key||!e.ctrlKey)return!1;var a=n().unredo;return a.chunkIdx!==a.linesArrayChunk.length-1&&(t(R()),!0)},resetImage:function(e,t,n){return"w"===e.key&&(t(function(e,t){var n=t().canvas,a=n.canvas,r=n.canvasWidth,o=n.canvasHeight;a.getContext("2d").clearRect(0,0,r,o),e({type:"RESET_IMG"})}),t(b(!1)),!0)},pickNewImage:function(e,t,n){return"e"===e.key&&(t(function(e){e({type:"PICK_NEW_IMG"})}),t(b(!1)),!0)},showCloseModal:function(e,t,n){if("q"!==e.key)return!1;var a=n().main.showModal;return t(b(!a)),!0}},Y={activeHotkeys:[]},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ACTIVE_HOTKEYS":return Object(v.a)({},e,{activeHotkeys:[].concat(Object(k.a)(e.activeHotkeys),[t.value])});case"REMOVE_ACTIVE_HOTKEYS":return Object(v.a)({},e,{activeHotkeys:Object(k.a)(e.activeHotkeys.filter(function(e){return e!==t.value}))});default:return e}},G=Object(h.c)({main:S,canvas:j,unredo:P,kbevents:K}),X=[m.a],Z=Object(h.e)(G,{},Object(h.d)(h.a.apply(void 0,X))),J=n(160),$=n(70),q=n(262),Q=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onDrop=function(e){if(1===e.length){var t=e[0];null!==t?n.props.saveInputFile(t):z.toastr.error("File error","Could not determine which file to upload; for some reason it no longer persists in memory",500)}else z.toastr.error("File error","You may only upload one file at a time",500)},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"dropArea"},r.a.createElement(J.a,null,this.props.loader,r.a.createElement(q.a,{style:{width:"100%"},accept:"image/*",maxSize:1e9,multiple:!1,onDrop:this.onDrop,onDropRejected:function(){return z.toastr.error("File error","The system currently only supports images in JPEG or PNG, and only below 1GB in size.",500)}},function(e){var t=e.getRootProps,n=e.getInputProps;return r.a.createElement("div",t(),r.a.createElement("input",n()),r.a.createElement($.a,{name:"image",size:"huge"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{style:{fontSize:"15px"}},r.a.createElement("b",null,"Choose a file")," or drag it here."))})))}}]),t}(a.Component),ee=n(246),te=n.n(ee),ne=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).getMousePos=function(e){var t=n.canvas.getBoundingClientRect(),a=n.props.canvasWidth/n.props.canvasSize.width,r=e.clientX,o=e.clientY;return e.touches&&e.touches.length>0&&(r=e.touches[0].clientX,o=e.touches[0].clientY),{x:(r-t.left)*a,y:(o-t.top)*a}},n.drawLine=function(e){n.ctx&&(n.ctx.strokeStyle=e.color,n.ctx.lineWidth=e.size,n.ctx.lineCap="round",n.ctx.beginPath(),n.ctx.moveTo(e.startX,e.startY),n.ctx.lineTo(e.endX,e.endY),n.ctx.stroke())},n.drawStart=function(e){if(n.props.isMouseDown){n.props.chunkIdx<n.props.linesArrayChunk.length-1&&(n.props.clearFutureLineArray(),n.props.sliceLinesChunk(n.props.chunkIdx+1));var t=n.getMousePos(e),a=t.x,r=t.y;n.x=a,n.y=r,n.draw(e)}},n.draw=function(e){if(n.props.isMouseDown){var t=n.getMousePos(e),a=t.x+1,r=t.y+1,o={color:n.props.canvasBrushColor,size:n.props.canvasBrushSize,startX:n.x,startY:n.y,endX:a,endY:r};n.drawLine(o),n.props.pushLineArray([o]),n.x=a,n.y=r}},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new Image;t.src=this.props.inputImageFile,t.onload=function(){var n=[t.width,t.height],a=n[0],r=n[1];e.props.updateCanvasDimensions(a,r),e.props.linesArray.forEach(function(t,n){e.drawLine(t)}),e.props.setInputProcessing(!1)}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("canvas",{className:"inputCanvas",width:this.props.canvasWidth,height:this.props.canvasHeight,style:{display:"block",background:"url(".concat(this.props.inputImageFile,")"),backgroundSize:"100% 100%",touchAction:"none",width:"100%",height:"100%"},ref:function(t){t&&(e.canvas=t,e.props.setCanvas(t),e.ctx=t.getContext("2d"))},onMouseDown:this.drawStart,onClick:function(){return!1},onMouseEnter:this.drawStart,onMouseMove:this.draw,onTouchStart:this.drawStart,onTouchMove:this.draw}))}}]),t}(a.Component),ae=te()()(ne),re=Object(d.connect)(function(e){return{canvasBrushSize:e.canvas.canvasBrushSize,canvasBrushColor:e.canvas.canvasBrushColor,canvas:e.canvas.canvas,linesArray:e.canvas.linesArray,canvasSize:e.main.canvasSize,isMouseDown:e.unredo.isMouseDown}},{updateCanvasDimensions:function(e,t){return function(n){n({type:"CANVAS_UPDATE_INPUT_DIMENSIONS",width:e,height:t})}},updateBrushSize:w,updateBrushColor:function(e){return function(t){t({type:"CANVAS_UPDATE_BRUSHCOLOR",color:e})}},setCanvas:function(e){return function(t){t({type:"CANVAS_SET_CANVAS",canvas:e})}},pushLineArray:_,clearFutureLineArray:function(){return function(e){e({type:"CANVAS_CLEAR_FUTURE_LINEARRAY"})}},sliceLinesChunk:function(e){return function(t){t({type:"UNREDO_SLICE_LINES_CHUNK",index:e})}}})(ae),oe=n(115),ie=n(543),ce=n(247),se=n.n(ce),ue=n(250),le=n(66),pe=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.activeHotkeys.includes(this.props.name)||this.props.addActiveHotkey(this.props.name)}},{key:"componentWillUnmount",value:function(){this.props.removeActiveHotkey(this.props.name)}},{key:"render",value:function(){return this.props.children||null}}]),t}(a.Component),de=Object(d.connect)(function(e){return{activeHotkeys:e.kbevents.activeHotkeys}},{addActiveHotkey:function(e){return function(t){t({type:"ADD_ACTIVE_HOTKEYS",value:e})}},removeActiveHotkey:function(e){return function(t){t({type:"REMOVE_ACTIVE_HOTKEYS",value:e})}}})(pe),he={activated:{},jumped:{},thumb:{backgroundColor:"#FF4081",width:15,height:15,"&:hover":{boxShadow:"0px 0px 0px 9px ".concat(Object(le.fade)("#FF4081",.16))},"&$activated":{boxShadow:"0px 0px 0px 18px ".concat(Object(le.fade)("#FF4081",.16))},"&$jumped":{boxShadow:"0px 0px 0px 18px ".concat(Object(le.fade)("#FF4081",.16))}},track:{backgroundColor:"#FF4081",height:5}},me=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onSliderChange=function(e,t){n.props.updateBrushSize(t)},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement("table",{width:"100%"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{width:100,style:{textAlign:"center"}},r.a.createElement("b",null,"Brush Size")),r.a.createElement("td",null,r.a.createElement("div",null,r.a.createElement(se.a,{classes:{activated:e.activated,jumped:e.jumped,thumb:e.thumb,track:e.track},value:this.props.canvasBrushSize,min:1,max:20,step:1,onChange:this.onSliderChange}))),r.a.createElement("td",{width:50},r.a.createElement(oe.a,{color:"pink"},this.props.canvasBrushSize))))),r.a.createElement("br",null),r.a.createElement(de,{name:"performInpainting"},r.a.createElement(ie.a,{color:"violet",content:"Paint",onClick:this.props.performInpainting})))}}]),t}(a.Component),ve=Object(ue.withStyles)(he)(me),fe=Object(d.connect)(function(e){return{canvasBrushSize:e.canvas.canvasBrushSize}},{updateBrushSize:w,performInpainting:B})(ve),Ee=n(264),ge=n(544),ye=n(540),Ce=n(541),Ae=n(546),Ie=n(542),be=n(548),Oe=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).toggleBtn=function(){n.setState(function(e){return{toggleIOimg:!e.toggleIOimg}})},n.onSize=function(e){n.props.updateCanvasSize(e)},n.btn=function(e,t,n){return r.a.createElement(ie.a,e,r.a.createElement(ie.a.Content,{visible:!0},r.a.createElement($.a,{name:n})),null!==t?r.a.createElement(ie.a.Content,{hidden:!0},t):null)},n.moveButton=function(e,t,a,o){var i=n.btn({compact:!0,basic:!0,floated:!0===e?"right":null,onClick:function(e){return n.props.updateInputColWidth(t)}},null,"angle double "+a);return!0===o?r.a.createElement("p",null,r.a.createElement("br",null),i):i},n.grid=function(e,t,n,a,o,i){return r.a.createElement(Ee.a.Column,{width:n,className:"smoothColChange"},r.a.createElement(J.a,{raised:!0},r.a.createElement(oe.a,{as:"a",color:o,ribbon:!0},a),e.map(function(e,t){return r.a.createElement("div",{key:t,style:{display:"inline-block",float:i}},e)}),t.map(function(e,t){return r.a.createElement("div",{key:t},e)})))},n.child=r.a.createRef(),n.state={toggleIOimg:!1},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.props.handleKeyDown),document.addEventListener("keypress",this.props.handleKeyDown),document.addEventListener("mouseup",this.props.handleMouseClick,!0),document.addEventListener("mousedown",this.props.handleMouseClick,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.props.handleKeyDown),document.removeEventListener("keypress",this.props.handleKeyDown),document.removeEventListener("mouseup",this.props.handleMouseClick,!0),document.removeEventListener("mousedown",this.props.handleMouseClick,!0)}},{key:"render",value:function(){var e=this,t=this.state.toggleIOimg,n=r.a.createElement(ge.a,{active:this.props.inputProcessing},r.a.createElement(ye.a,null,"Loading...")),a=r.a.createElement(ge.a,{active:this.props.outputProcessing},r.a.createElement(ye.a,null,"Processing image...")),o=this.props.constTotalCols,i=this.props.constExpandedCols,c=this.props.inputColWidth,s=o-c,u=c>=8?this.moveButton(!0,o-i,"left",!1):"",l=s>=8?this.moveButton(!1,i,"right",!1):"",p={compact:!0,animated:"vertical",floated:"right",onMouseDown:function(e){return e.preventDefault()}},d=r.a.createElement(de,{name:"undo"},this.btn(Object(v.a)({color:"pink",disabled:0===this.props.chunkIdx,onClick:function(t){return e.props.undo()}},p),"Undo","undo")),h=r.a.createElement(de,{name:"redo"},this.btn(Object(v.a)({color:"pink",disabled:this.props.chunkIdx===this.props.linesArrayChunk.length-1,onClick:function(t){return e.props.redo()}},p),"Redo","redo")),m=this.props.inputImageFile?r.a.createElement(de,{name:"showCloseModal"},this.btn(Object(v.a)({color:"red",onClick:function(t){return e.props.showCloseModal(!0)}},p),"Close","close")):"",f=function(t){return r.a.createElement(Ce.a,{open:t,onClose:function(){return e.props.showCloseModal(!1)},trigger:m,closeIcon:!0},r.a.createElement(Ae.a,{icon:"warning sign",content:"What do you wish to do?"}),r.a.createElement(Ce.a.Actions,null,r.a.createElement(de,{name:"resetImage"},r.a.createElement(ie.a,{color:"facebook",onClick:function(t){e.props.resetImage(),e.props.showCloseModal(!1)}},r.a.createElement($.a,{name:"eraser"})," Reset the image")),r.a.createElement(de,{name:"pickNewImage"},r.a.createElement(ie.a,{color:"google plus",onClick:function(t){e.props.pickNewImage(),e.props.showCloseModal(!1)}},r.a.createElement($.a,{name:"image"})," Pick a new image"))))},E=[{menuItem:{key:"inpaint",icon:"paint brush"},render:function(){return r.a.createElement(Ie.a.Pane,null,r.a.createElement(fe,Object.assign({},e.props,{canvas:e.child})))}}],g=r.a.createElement("div",null,r.a.createElement("div",{className:"inputImage"},n,r.a.createElement(re,Object.assign({},this.props,{ref:this.child,onSize:this.onSize}))),r.a.createElement(Ie.a,{panes:E}),r.a.createElement("br",null)),y=r.a.createElement(Q,Object.assign({loader:n},this.props)),C=r.a.createElement(ie.a,{color:t?"purple":"violet",onClick:function(t){return e.toggleBtn()},compact:!0},t?"Input":"Output"),A=r.a.createElement(de,{name:"downloadOutputImage"},this.btn(Object(v.a)({color:"pink",onClick:function(t){return e.props.downloadOutputImage()},style:{minWidth:"6em"}},{compact:!0,animated:"vertical",onMouseDown:function(e){return e.preventDefault()}}),"Download","download")),I=r.a.createElement("div",{className:"outputImage"},r.a.createElement(J.a,{basic:!0,className:"resultArea"},a,r.a.createElement("img",{src:t?this.props.inputImageFile:this.props.outputImageFile,alt:"",className:"resultImage"}))),b=r.a.createElement("div",{className:"outputImage"},r.a.createElement(J.a,{className:"resultArea"},a,r.a.createElement("label",{htmlFor:"file",className:"inputLabel"},r.a.createElement("br",null),r.a.createElement($.a,{name:"hourglass half",size:"huge"}),"Waiting for output...",r.a.createElement("br",null),r.a.createElement("br",null))));return r.a.createElement("div",{style:{marginTop:"15px"}},r.a.createElement(be.a,null,r.a.createElement(Ee.a,{stackable:!0,columns:2},function(t){var n=[c,"Input","violet","right"];if(s===i){var a=e.moveButton(!1,8,"right",!0);return e.grid.apply(e,[[],[a]].concat(n))}var r=e.grid.apply(e,[[f(t),h,d,u],[g]].concat(n)),o=e.grid.apply(e,[[u],[y]].concat(n));return e.props.inputImageFile?r:o}(this.props.showModal),function(){var t=[s,"Output","violet","right"];if(c===i){var n=e.moveButton(!1,8,"left",!0);return e.grid.apply(e,[[],[n]].concat(t))}var a=e.grid.apply(e,[[l,A,C],[I]].concat(t)),r=e.grid.apply(e,[[l],[b]].concat(t));return e.props.outputImageFile?a:r}())))}}]),t}(a.Component),Se=Object(d.connect)(function(e){return{canvasWidth:e.canvas.canvasWidth,canvasHeight:e.canvas.canvasHeight,inputProcessing:e.main.inputProcessing,outputProcessing:e.main.outputProcessing,inputImageFile:e.main.inputImageFile,inputImageSrc:e.main.inputImageSrc,outputImageFile:e.main.outputImageFile,outputImageSrc:e.main.outputImageSrc,inputColWidth:e.main.inputColWidth,constTotalCols:e.main.constTotalCols,constExpandedCols:e.main.constExpandedCols,showModal:e.main.showModal,chunkIdx:e.unredo.chunkIdx,linesArrayChunk:e.unredo.linesArrayChunk}},{saveInputFile:function(e){return function(t){t(f(!0));var n=new FileReader;n.readAsDataURL(e),n.onload=function(e){t({type:"INPUT_SAVEFILE",file:e.target.result})}}},setInputProcessing:f,updateCanvasSize:function(e){return function(t){t({type:"CANVAS_UPDATE_SIZE",size:e})}},updateInputColWidth:A,resetImage:y,pickNewImage:C,downloadOutputImage:I,showCloseModal:b,undo:D,redo:R,handleMouseClick:function(e){return function(t,n){var a;t((a="mouseup"!==e.type,function(e){e({type:"UNREDO_SET_MOUSEDOWN",isDown:a})}));var r,o=n().canvas.linesArray,i=n().unredo,c=i.chunkIdx,s=i.linesArrayChunk;"mouseup"===e.type&&x!==o.length&&c===s.length-1?(t(U(c+1)),t((r=o.length,function(e){e({type:"UNREDO_PUSH_LINES_CHUNK",chunk:r})}))):"mousedown"===e.type&&(x=o.length)}},handleKeyDown:function(e){return function(t,n){for(var a=n().kbevents.activeHotkeys,r=0;r<a.length;r+=1){var o=a[r];if(V[o](e,t,n)){e.preventDefault();break}}}}})(Oe),ke=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(d.Provider,{store:Z},r.a.createElement("div",{className:"App"},r.a.createElement(Se,this.props)))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ke,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[273,1,2]]]);
//# sourceMappingURL=main.9346f84b.chunk.js.map